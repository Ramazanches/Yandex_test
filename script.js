document.addEventListener("DOMContentLoaded", () => {

const svgIcons = [
	`<svg width="176" height="52" viewBox="0 0 176 52" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M139.016 0.935547H158.478C163.125 0.936031 167.581 2.78168 170.867 6.06658C174.153 9.35148 176 13.8066 176 18.4522V33.5494C176 35.8496 175.547 38.1273 174.666 40.2524C173.786 42.3775 172.495 44.3084 170.868 45.9348C169.241 47.5612 167.309 48.8513 165.183 49.7314C163.057 50.6115 160.779 51.0644 158.478 51.0641H139.216C136.915 51.0644 134.637 50.6115 132.511 49.7314C130.385 48.8513 128.454 47.5612 126.826 45.9348C125.199 44.3084 123.909 42.3775 123.028 40.2524C122.147 38.1273 121.694 35.8496 121.694 33.5494V18.4522C121.694 8.7763 129.336 0.935547 139.016 0.935547Z" fill="#21201F"/>
<path d="M143.778 29.2782V28.4273H138.652V24.6402H148.646V29.1449C148.646 36.2352 145.259 40.3546 138.853 40.3546C132.247 40.3546 128.41 35.1506 128.41 25.975C128.41 17.0277 132.597 11.5498 140.279 11.5498C143.181 11.5498 145.684 12.3185 147.052 13.3192V17.2176C145.087 16.0003 142.824 15.3477 140.513 15.3314C135.475 15.3314 133.339 18.7515 133.339 25.975C133.339 32.9813 135.108 36.5657 138.944 36.5657C142.609 36.584 143.778 33.7482 143.778 29.2782Z" fill="white"/>
<path d="M169.371 29.8114C169.371 36.6187 165.701 40.3711 160.423 40.3711C155.146 40.3711 151.476 36.6187 151.476 29.8625C151.476 23.0553 155.146 19.3029 160.423 19.3029C165.701 19.3029 169.371 23.0389 169.371 29.8114ZM164.415 29.8114C164.415 25.1406 163.08 23.09 160.429 23.09C157.778 23.09 156.441 25.1406 156.441 29.8625C156.441 34.5334 157.776 36.5858 160.429 36.5858C163.082 36.5858 164.415 34.517 164.415 29.8114Z" fill="white"/>
<path d="M13.746 15.7505H11.5548C7.57416 15.7505 5.47794 17.7682 5.47794 20.7536C5.47794 24.1408 6.92776 25.7093 9.91507 27.7271L12.3674 29.3796L5.27708 39.9702H0L6.35623 30.4952C2.68602 27.8768 0.633615 25.3423 0.633615 21.0221C0.633615 15.6172 4.38235 11.9634 11.5037 11.9634H18.5921V39.9721H13.7295V15.7505H13.746ZM38.6359 19.7037V39.9721H33.8482V31.5141H27.4408V39.9721H22.6531V19.7037H27.4408V27.7271H33.8482V19.7037H38.6359ZM60.2719 44.5936H55.8348V39.9556H45.0743V44.5936H40.6372V36.1777H42.1381C43.8235 32.7905 44.1576 26.385 44.1576 21.4311V19.6964H58.1355V36.1777H60.2719V44.5936ZM53.3478 23.4908H48.2771V24.0915C48.2771 27.5938 47.9119 33.1155 46.5752 36.185H53.3478V23.4908ZM71.0306 40.3555C64.9099 40.3555 61.4387 36.9355 61.4387 29.8799C61.4387 23.7574 64.2252 19.2892 70.0646 19.2892C74.8523 19.2892 77.9547 21.957 77.9547 28.9979V31.5324H66.3944C66.5934 34.9196 67.9282 36.5703 71.4323 36.5703C73.7677 36.5703 76.2693 35.6865 77.7538 34.6694V38.588C76.3533 39.5557 74.1001 40.3555 71.0306 40.3555ZM66.3944 27.9936H73.083V27.5956C73.083 25.0611 72.3526 23.0927 69.9788 23.0927C67.6945 23.0726 66.5277 24.7744 66.3944 27.9936ZM85.978 30.0132V39.9721H81.1739V19.7037H85.978V29.0454L92.7597 19.7037H97.5986L90.826 29.0454L98.5152 39.9556H93.0683L85.978 30.0132ZM98.2395 29.847C98.2395 23.6734 101.426 19.2874 107.552 19.2874C109.926 19.2874 111.706 19.6873 112.707 20.2533V24.3253C111.739 23.7245 109.92 23.0726 108.069 23.0726C104.932 23.0726 103.197 25.3259 103.197 29.7302C103.197 33.9171 104.616 36.5849 108.036 36.5849C110.054 36.5849 111.505 36.0681 112.707 35.2172V39.1212C111.538 39.9721 109.968 40.372 107.751 40.372C101.342 40.3555 98.2377 36.6196 98.2377 29.847H98.2395Z" fill="#21201F"/>
</svg>`,

	`<svg width="73" height="59" viewBox="0 0 73 59" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M5.06453 51.8352C-8.85806 36.5349 9.79026 3.66752 21.8591 0.929024C33.9609 -1.83942 61.2127 28.2415 57.3544 39.937C53.4925 51.6946 19.0164 67.1678 5.06453 51.8352Z" fill="url(#paint0_linear_516_48)"/> <path d="M5.06453 51.8352C-8.85806 36.5349 9.79026 3.66752 21.8591 0.929024C33.9609 -1.83942 61.2127 28.2415 57.3544 39.937C53.4925 51.6946 19.0164 67.1678 5.06453 51.8352Z" fill="white" fill-opacity="0.5"/> <path d="M27.4003 48.5716C25.7103 48.4554 24.1602 47.9992 22.7501 47.2031C21.3753 46.3761 20.209 45.1806 19.2512 43.6165C18.3288 42.0216 17.6479 40.0604 17.2087 37.733C16.7717 35.3724 16.6626 32.6016 16.8814 29.4204C17.1001 26.2393 17.5863 23.5261 18.34 21.2806C19.096 19.0021 20.0388 17.1526 21.1686 15.732C22.3315 14.3138 23.6493 13.3057 25.1221 12.7079C26.6279 12.1122 28.2259 11.8725 29.9158 11.9887C31.6058 12.105 33.1393 12.56 34.5163 13.3538C35.8933 14.1477 37.0442 15.3255 37.9689 16.8873C38.8959 18.4159 39.5624 20.3428 39.9685 22.668C40.4078 24.9955 40.518 27.7497 40.2993 30.9309C40.0805 34.112 39.5932 36.8418 38.8372 39.1204C38.1167 41.3681 37.1904 43.2187 36.0583 44.6724C34.9263 46.126 33.6227 47.1684 32.1477 47.7994C30.6727 48.4304 29.0902 48.6878 27.4003 48.5716ZM27.6206 44.6415C28.7472 44.719 29.7584 44.5388 30.6541 44.101C31.5499 43.6632 32.3347 42.9015 33.0086 41.8158C33.6826 40.7302 34.2313 39.2864 34.6549 37.4844C35.1138 35.6515 35.4345 33.4096 35.6167 30.7587C35.799 28.1078 35.8037 25.8608 35.6308 24.0178C35.4602 22.1416 35.1154 20.6197 34.5964 19.452C34.0774 18.2844 33.4042 17.4224 32.5768 16.8661C31.7495 16.3098 30.7725 15.9929 29.6458 15.9154C28.5192 15.838 27.4914 16.017 26.5625 16.4525C25.6668 16.8903 24.8654 17.6509 24.1583 18.7343C23.4844 19.8199 22.918 21.2791 22.459 23.112C22.0354 24.914 21.7325 27.1405 21.5502 29.7914C21.3679 32.4424 21.3621 34.7059 21.5327 36.5821C21.7388 38.4274 22.1013 39.9339 22.6203 41.1015C23.1393 42.2692 23.8125 43.1311 24.6398 43.6874C25.5004 44.246 26.4939 44.564 27.6206 44.6415Z" fill="#21201F"/> <path d="M51.3102 29.99L52.4107 13.985L60.8109 14.5627C64.5222 14.8179 67.3493 15.8279 69.2921 17.5929C71.268 19.3602 72.1432 21.884 71.9177 25.1646C71.8014 26.8545 71.403 28.292 70.7222 29.4771C70.0746 30.6644 69.1766 31.6181 68.0285 32.3382C66.9157 33.0274 65.6 33.5196 64.0815 33.8147C62.5653 34.0767 60.896 34.145 59.0734 34.0197L55.7432 33.7907L55.4527 38.0156L65.841 38.7299L65.6018 42.2093L55.2134 41.4949L54.6324 49.9448L49.9601 49.6235L50.5412 41.1737L46.4654 40.8934L46.7046 37.414L50.7804 37.6943L51.0709 33.4694L46.9951 33.1891L47.2344 29.7098L51.3102 29.99ZM56.8062 18.3324L55.9825 30.3113L59.3127 30.5403C61.7317 30.7067 63.6049 30.3361 64.9325 29.4285C66.2954 28.4902 67.0498 26.9606 67.1957 24.8399C67.3301 22.8848 66.8659 21.4046 65.8031 20.3993C64.7756 19.3632 63.0193 18.7596 60.534 18.5888L56.8062 18.3324Z" fill="#21201F"/> <defs> <linearGradient id="paint0_linear_516_48" x1="5.07898" y1="51.8514" x2="45.5806" y2="14.997" gradientUnits="userSpaceOnUse"> <stop stop-color="#FF5C4D"/> <stop offset="0.25" stop-color="#EB469F"/> <stop offset="0.72" stop-color="#8341EF"/> <stop offset="1" stop-color="#3F68F9"/> </linearGradient> </defs> </svg>`, 

	`<svg width="94" height="83" viewBox="0 0 94 83" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M24.4163 32.8198C24.4163 16.3927 52.325 7.05517 60.6942 11.8968C69.0979 16.7385 69.0288 48.9702 60.6942 53.7773C52.325 58.6189 24.4163 49.2814 24.4163 32.8198Z" fill="url(#paint0_linear_516_53)"/> <path d="M24.4163 32.8198C24.4163 16.3927 52.325 7.05517 60.6942 11.8968C69.0979 16.7385 69.0288 48.9702 60.6942 53.7773C52.325 58.6189 24.4163 49.2814 24.4163 32.8198Z" fill="white" fill-opacity="0.5"/> <path d="M63.8412 67.506C59.5528 67.506 55.1953 64.5318 55.1953 58.8601C55.1953 55.3326 57.0974 52.4276 60.0024 51.0443L51.5987 19.4006C46.9645 19.3314 43.0566 19.4351 39.4253 19.7118L39.1487 16.2535C43.2295 15.9422 47.587 15.8385 52.9474 15.9422L54.2616 15.9768L63.3224 50.2143C68.3716 49.9722 72.4524 53.7418 72.4524 58.8601C72.487 63.8056 68.752 67.506 63.8412 67.506ZM63.8412 53.6726C60.8324 53.6726 58.6537 55.8514 58.6537 58.8601C58.6537 62.6989 61.4549 64.0476 63.8412 64.0476C66.8499 64.0476 69.0287 61.8689 69.0287 58.8601C69.0287 55.8514 66.8499 53.6726 63.8412 53.6726ZM19.1595 67.506C14.8712 67.506 10.5137 64.5318 10.5137 58.8601C10.5137 53.9147 14.2141 50.2143 19.1595 50.2143C23.4824 50.2143 26.8716 53.0847 27.6324 57.131H37.5924C41.5695 57.131 43.437 56.3701 46.3074 53.6726C48.7628 51.321 51.1145 48.831 53.2933 46.2372L55.9562 48.4506C53.7083 51.1481 51.2528 53.7418 48.6937 56.1626C45.1662 59.5172 42.4687 60.5893 37.5924 60.5893H27.667C26.9062 64.6356 23.517 67.506 19.1595 67.506ZM19.1595 53.6726C16.1508 53.6726 13.972 55.8514 13.972 58.8601C13.972 62.6989 16.7733 64.0476 19.1595 64.0476C22.1683 64.0476 24.347 61.8689 24.347 58.8601C24.347 55.8514 22.1683 53.6726 19.1595 53.6726ZM62.9074 24.0347H60.6595C59.4145 24.0347 58.377 23.0318 58.377 21.7522C58.377 20.5072 59.3799 19.5043 60.6595 19.5043H62.9074V24.0347Z" fill="#21201F"/>
<path d="M78.1241 16.4158L67.6919 5.53254L69.4179 3.74031L79.8755 14.6236L78.1241 16.4158ZM69.4179 16.4158L67.6919 14.6236L78.1749 3.74031L79.8755 5.53254L69.4179 16.4158Z" fill="#21201F"/>
<path d="M84.8656 10.5975V7.79231H87.2008C87.7761 7.79231 88.2753 7.69707 88.6984 7.50659C89.1214 7.2988 89.4514 7.00442 89.6883 6.62346C89.9252 6.22519 90.0436 5.74899 90.0436 5.19487C90.0436 4.67538 89.9252 4.23382 89.6883 3.87018C89.4683 3.50654 89.1383 3.22948 88.6984 3.039C88.2584 2.8312 87.7169 2.72731 87.0739 2.72731C86.2786 2.72731 85.5171 2.87449 84.7895 3.16887C84.0787 3.44593 83.3173 3.90481 82.505 4.54551V1.53249C82.9788 1.18616 83.4696 0.900444 83.9772 0.675333C84.4849 0.450221 85.0348 0.285717 85.6271 0.18182C86.2193 0.0606066 86.8539 0 87.5308 0C88.7153 0 89.7391 0.207795 90.6021 0.623385C91.4651 1.03897 92.1335 1.61907 92.6073 2.36367C93.0811 3.10827 93.318 3.96542 93.318 4.93513C93.318 5.55851 93.208 6.12129 92.988 6.62346C92.768 7.12563 92.4804 7.54988 92.125 7.89621C91.7697 8.24253 91.3635 8.51959 90.9067 8.72739C90.4498 8.93518 89.9844 9.06505 89.5106 9.117V9.0131C90.086 9.06505 90.6359 9.20358 91.1605 9.42869C91.702 9.63649 92.1842 9.93086 92.6073 10.3118C93.0303 10.6928 93.3603 11.1517 93.5972 11.6885C93.851 12.2253 93.9779 12.84 93.9779 13.5326C93.9779 14.6582 93.6987 15.6452 93.1403 16.4937C92.5819 17.3249 91.8035 17.9743 90.8051 18.4418C89.8067 18.892 88.6391 19.1171 87.3023 19.1171C86.6255 19.1171 85.974 19.0565 85.3479 18.9353C84.7218 18.8314 84.138 18.6669 83.5965 18.4418C83.055 18.1994 82.5558 17.9137 82.0989 17.5846V14.5716C82.8942 15.195 83.6895 15.6539 84.4849 15.9483C85.2802 16.2426 86.1347 16.3898 87.0485 16.3898C87.8269 16.3898 88.4784 16.2686 89.003 16.0262C89.5275 15.7838 89.9167 15.4461 90.1706 15.0132C90.4413 14.563 90.5767 14.0262 90.5767 13.4028C90.5767 12.7794 90.4498 12.2599 90.1959 11.8443C89.9421 11.4287 89.5614 11.117 89.0537 10.9092C88.5461 10.7014 87.8946 10.5975 87.0993 10.5975H84.8656Z" fill="#21201F"/> <defs> <linearGradient id="paint0_linear_516_53" x1="24.4163" y1="32.8369" x2="66.9711" y2="32.8369" gradientUnits="userSpaceOnUse"> <stop stop-color="#FF5C4D"/> <stop offset="0.25" stop-color="#EB469F"/> <stop offset="0.72" stop-color="#8341EF"/> <stop offset="1" stop-color="#3F68F9"/> </linearGradient> </defs> </svg>`,

`<svg width="83" height="83" viewBox="0 0 83 83" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11.6919 50.1964C6.03863 32.9173 36.5269 12.1287 48.6324 25.0083C56.6378 33.5238 56.0449 53.9339 44.4389 61.8476C32.8329 69.7612 15.429 61.6222 11.6919 50.1964Z" fill="url(#paint0_linear_516_60)"/> <path d="M11.6919 50.1964C6.03863 32.9173 36.5269 12.1287 48.6324 25.0083C56.6378 33.5238 56.0449 53.9339 44.4389 61.8476C32.8329 69.7612 15.429 61.6222 11.6919 50.1964Z" fill="white" fill-opacity="0.5"/> <path d="M45.329 67.8812C32.5912 68.8642 22.9999 60.6472 22.0169 47.9094C21.034 35.1716 29.2509 25.5803 41.9888 24.5973C47.0592 24.206 51.7422 25.2442 55.5933 27.5906C61.2734 31.071 64.7234 37.0872 65.3008 44.5691C66.2838 57.307 58.0668 66.8982 45.329 67.8812ZM40.6863 27.8702C30.5028 29.3092 24.2927 37.0972 25.1087 47.6708C25.9652 58.77 33.9912 65.646 45.0904 64.7895C56.1896 63.933 63.0656 55.907 62.2091 44.8077C61.7105 38.3461 58.791 33.1598 53.9624 30.2357C51.0581 28.4693 47.5689 27.5878 43.778 27.6316L45.46 49.4281L31.3309 50.5185L31.0756 47.2103L42.113 46.3586L40.6863 27.8702ZM66.1064 32.4397L64.3245 29.9025L68.4263 27.0357L70.2083 29.5729L66.1064 32.4397ZM59.4478 25.1472L56.8598 23.4497L61.8738 15.8784L64.4618 17.5759L59.4478 25.1472ZM49.1512 20.6857L46.0522 20.4272C46.102 19.8635 45.9069 19.3499 45.4359 18.8886C43.7492 17.1838 39.0498 17.5465 37.6448 19.4899C37.281 20.0155 37.167 20.5531 37.3003 21.0715L34.2777 21.8024C33.9182 20.3684 34.2389 18.8819 35.14 17.6616C36.3763 15.9489 38.652 14.8092 41.1872 14.6135C43.7533 14.4155 46.146 15.195 47.6305 16.6977C48.7414 17.7938 49.2864 19.2135 49.1512 20.6857Z" fill="#21201F"/> <defs> <linearGradient id="paint0_linear_516_60" x1="52.7557" y1="31.2615" x2="13.6578" y2="54.2842" gradientUnits="userSpaceOnUse"> <stop stop-color="#FF5C4D"/> <stop offset="0.25" stop-color="#EB469F"/> <stop offset="0.72" stop-color="#8341EF"/> <stop offset="1" stop-color="#3F68F9"/> </linearGradient> </defs> </svg>`,

`<svg width="83" height="83" viewBox="0 0 83 83" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M0.859306 53.5427C-6.16149 30.1404 31.7016 1.98502 46.7354 19.4287C56.6772 30.9618 55.941 58.6047 41.5275 69.3227C27.1141 80.0407 5.50028 69.0175 0.859306 53.5427Z" fill="url(#paint0_linear_516_65)"/> <path d="M0.859306 53.5427C-6.16149 30.1404 31.7016 1.98502 46.7354 19.4287C56.6772 30.9618 55.941 58.6047 41.5275 69.3227C27.1141 80.0407 5.50028 69.0175 0.859306 53.5427Z" fill="white" fill-opacity="0.5"/> <path d="M22.8016 40.8173C22.4292 36.5606 25.578 32.808 29.8347 32.4356L60.1787 29.7809C64.4353 29.4084 68.188 32.5573 68.5604 36.8139L69.4199 46.6383C69.7923 50.895 66.6435 54.6476 62.3868 55.02L32.0428 57.6747C27.7861 58.0471 24.0335 54.8983 23.6611 50.6417L22.8016 40.8173Z" stroke="#21201F" stroke-width="3.50169"/> <defs> <linearGradient id="paint0_linear_516_65" x1="51.8561" y1="27.8978" x2="1.22539" y2="55.2356" gradientUnits="userSpaceOnUse"> <stop stop-color="#FF5C4D"/> <stop offset="0.25" stop-color="#EB469F"/> <stop offset="0.72" stop-color="#8341EF"/> <stop offset="1" stop-color="#3F68F9"/> </linearGradient> </defs> </svg>`
]

const animateCSS = (element, animation, prefix = 'animate__') => {
  new Promise((resolve, reject) => {
    const animationName = `${prefix}${animation}`;
    const node = document.querySelector(element);

    node.classList.add(`${prefix}animated`, animationName);

    function handleAnimationEnd(event) {
      event.stopPropagation();
      node.classList.remove(`${prefix}animated`, animationName);
      resolve('Animation ended');
    }

    node.addEventListener('animationend', handleAnimationEnd, {once: true});
  });
}


const onScrollAnimation = () => {

	let animItems = document.querySelectorAll('._anim-items');

	if (animItems.length > 0) {
		window.addEventListener('scroll', animOnScroll);

		function animOnScroll(params) {
			for (let i = 0; i < animItems.length; i++) {
				const animItem = animItems[i];
				const animItemHeight = animItem.offsetHeight; //высота объекта
				const animItemOffset = offset(animItem).top; //позиция объекта относительно верха
				const animStart = 4;
				
				//Точка старта = Высота окна - высота аним-го объекта деленная на коэф. момента старта анимации
				let animItemPoint = window.innerHeight - animItemHeight / animStart;

				if (animItemHeight > window.innerHeight) {
					animItemPoint = window.innerHeight - window.innerHeight / animStart;
				}
				//pageYOffset - кол-во прокрученных пикселей
				//Если 'прокрутили' больше чем  'позиция объекта относительно верха'  - 'точка старта' 
				//но меньше чем 'позиция объекта относительно верха' + высота объекта
				if((pageYOffset > animItemOffset - animItemPoint) && pageYOffset < (animItemOffset + animItemHeight)) {
					animItem.classList.add('_active');
					setTimeout(() => {animateCSS('.s5__button', 'bounce')}, 2000);
					
				}
				else {
					if (!animItem.classList.contains('_anim-ho-hide')) {
						animItem.classList.remove('_active');						
					}
				}
			}

		}

		function offset(el) {

			const rect = el.getBoundingClientRect(),
						scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,
						scrollTop = window.pageYOffset || document.documentElement.scrollTop;

			return {
				top: rect.top + scrollTop, 
				left: rect.left + scrollLeft
			}

		}

		setTimeout( () =>  animOnScroll() , 300);
	}
}


const appHeight = () => {
  const doc = document.documentElement
  doc.style.setProperty('--app-height', `{window.innerHeight}px`)
}

const insertIcons = () => {
	const cards = document.querySelectorAll('#svg');
	for (let i = 0; i < cards.length; i++) {
		if (cards[i].querySelector('._anim-items')) {
			cards[i].querySelector('._anim-items').insertAdjacentHTML('afterbegin', svgIcons[i])
			console.log(cards[i].querySelector('._anim-items'))			
		}

		// cards[i].insertAdjacentHTML('afterbegin', svgIcons[i])
	}
}

const initSlider = () => {
	const swiper = new Swiper('#swiper', {
	slidesPerView: 1,
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  }
	})
}

const onresizeFunctions = () => {
	appHeight()	
}
onScrollAnimation()
insertIcons()
initSlider()
onresizeFunctions()

window.addEventListener('resize', onresizeFunctions)

});